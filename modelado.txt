CREATE SCHEMA IF NOT EXISTS "public";

CREATE  TABLE "public".categoria ( 
	id_categoria         serial  NOT NULL  ,
	des_categoria        varchar  NOT NULL  ,
	CONSTRAINT pk_categoria PRIMARY KEY ( id_categoria )
 );

CREATE  TABLE "public".persona ( 
	id_persona           serial  NOT NULL  ,
	nom_persona          varchar  NOT NULL  ,
	apellido_perso       varchar    ,
	CONSTRAINT pk_persona PRIMARY KEY ( id_persona )
 );

CREATE  TABLE "public".usuario ( 
	id_usuario           serial  NOT NULL  ,
	nom_usu              varchar  NOT NULL  ,
	contra_usu           varchar  NOT NULL  ,
	correo_usu           varchar    ,
	id_persona           serial    ,
	CONSTRAINT pk_usuario PRIMARY KEY ( id_usuario )
 );

CREATE  TABLE "public".notas ( 
	id_nota              serial  NOT NULL  ,
	titu_nota            varchar    ,
	conte_nota           varchar  NOT NULL  ,
	favorito             boolean    ,
	id_usuario           serial    ,
	id_categoria         serial    ,
	CONSTRAINT pk_notas PRIMARY KEY ( id_nota )
 );

CREATE  TABLE "public".pregunta_recuperacion ( 
	id_pregunta          varchar  NOT NULL  ,
	pregunta             varchar  NOT NULL  ,
	respuesta            varchar  NOT NULL  ,
	id_usuario           serial    ,
	CONSTRAINT pk_pregunta_recuperacion PRIMARY KEY ( id_pregunta )
 );

ALTER TABLE "public".notas ADD CONSTRAINT fk_notas_usuario FOREIGN KEY ( id_usuario ) REFERENCES "public".usuario( id_usuario );

ALTER TABLE "public".notas ADD CONSTRAINT fk_notas_categoria FOREIGN KEY ( id_categoria ) REFERENCES "public".categoria( id_categoria );

ALTER TABLE "public".pregunta_recuperacion ADD CONSTRAINT fk_pregunta_recuperacion_usuario FOREIGN KEY ( id_usuario ) REFERENCES "public".usuario( id_usuario );

ALTER TABLE "public".usuario ADD CONSTRAINT fk_usuario_persona FOREIGN KEY ( id_persona ) REFERENCES "public".persona( id_persona );
